<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Test Guitar</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="guitar.css">
    <script src="https://code.createjs.com/1.0.0/soundjs.min.js"></script>
    <script src="guitar.js"></script>
    <script>
        var current = null
        document.addEventListener("DOMContentLoaded", function() {

            current = new GuitarGame(document.getElementById("bcGuitar"));

            document.getElementById("showBcGuitar").addEventListener("click", function() {
                current.start();
            });

            function mainloop() {
                requestAnimationFrame(mainloop);
                var now = Date.now();
                if (current && current.update) {
                    current.update(now);
                }
            }
            mainloop();

        });

    </script>
</head>

<body>
    <button id="showBcGuitar">Play</button>
    <section id="bcGuitar" class="minigame">
        <div id="fog"></div>
        <div id="guitar-neck">
            <a href="#" id="note-A" class="string-VI fret-V"></a>
            <a href="#" id="note-C" class="string-VI fret-VIII"></a>
            <a href="#" id="note-D" class="string-V fret-V"></a>
            <a href="#" id="note-E" class="string-V fret-VII"></a>
            <a href="#" id="note-G" class="string-IV fret-V"></a>
            <a href="#" id="note-a" class="string-IV fret-VII"></a>
            <a href="#" id="note-c" class="string-III fret-V"></a>
            <a href="#" id="note-d" class="string-III fret-VII"></a>
            <a href="#" id="note-e" class="string-II fret-V"></a>
            <a href="#" id="note-g" class="string-II fret-VIII"></a>
        </div>
    
        <button id="melody-player">
            Play melody again!
        </button>
        <input type="hidden" name="currentAttempt" value="" />
    </section>
</body>

</html>
